<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Juha Kiviluoma, VTT Technical Centre of Finland" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Installing IRENA FlexTool - SpineToolbox - IRENA FlexTool</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Installing IRENA FlexTool - SpineToolbox";
        var mkdocs_page_input_path = "install_toolbox.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> IRENA FlexTool
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Introduction</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting started</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../interface_overview/">Overview of the interfaces to Flextool</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Installing IRENA FlexTool - SpineToolbox</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../install_web_interface/">Installing IRENA FlexTool - Web interface</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Documentation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../tutorial/">Tutorial</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../reference/">Model parameters</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../results/">Model outputs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../how_to/">How to</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Interfaces</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../spine_toolbox/">Toolbox interface</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../browser_interface/">Browser interface</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">IRENA FlexTool</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Getting started &raquo;</li>
      <li>Installing IRENA FlexTool - SpineToolbox</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/irena-flextool/flextool/edit/master/docs/install_toolbox.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="installing-spine-toolbox-and-irena-flextool-on-a-local-computer">Installing Spine Toolbox and IRENA FlexTool on a local computer</h2>
<p>Follow video tutorial for installation here: <a href="https://youtu.be/N3qB0rzxPYw">Link to YouTube</a>.</p>
<ul>
<li>Install <a href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a> (or Anaconda)  [Can be ignored if already installed]</li>
<li>Start Anaconda prompt</li>
<li>Create new Python environment [Also possible to use existing, up-to-date, Spine Toolbox environment]</li>
</ul>
<pre><code class="language-shell">conda create -n flextool python=3.8
</code></pre>
<ul>
<li>Activate the environment</li>
</ul>
<pre><code class="language-shell">conda activate flextool
</code></pre>
<ul>
<li>Install Git to the environment [Also possible to use existing Git installation]</li>
</ul>
<pre><code class="language-shell">conda install git
</code></pre>
<ul>
<li><code>cd</code> to a directory into which both FlexTool and Spine Toolbox will make their own folders</li>
<li>Clone the FlexTool Git repository</li>
</ul>
<pre><code class="language-shell">git clone https://github.com/irena-flextool/flextool
</code></pre>
<p>Install Spine Toolbox [Can be skipped if using existing Toolbox environment]</p>
<ul>
<li>Clone the Toolbox repository</li>
</ul>
<pre><code class="language-shell">git clone https://github.com/Spine-project/Spine-Toolbox.git
</code></pre>
<ul>
<li>cd to the freshly created folder</li>
</ul>
<pre><code class="language-shell">cd Spine-Toolbox
</code></pre>
<ul>
<li>Make sure Pip is up-to-date</li>
</ul>
<pre><code class="language-shell">python -m pip install --upgrade pip
</code></pre>
<ul>
<li>Install packages required by Toolbox</li>
</ul>
<pre><code class="language-shell">python -m pip install -r requirements.txt
</code></pre>
<p>In case of problems when installing Spine Toolbox, more instructions are available at: https://github.com/Spine-project/Spine-Toolbox#installation</p>
<p>Generate databases from templates:</p>
<ul>
<li><code>cd</code> back to the flextool repository folder. Most likely:</li>
</ul>
<pre><code class="language-shell">cd ../flextool
</code></pre>
<ul>
<li>Run update_flextool.py script. This will generate the Input_data.sqlite and Results.sqlite from their templates. These are not directly in the repository to avoid future overwrites. Update_flextool.py can also be used later when one wants to update the tool.  </li>
</ul>
<pre><code class="language-shell">python update_flextool.py
</code></pre>
<h2 id="starting-irena-flextool-in-spine-toolbox">Starting IRENA FlexTool in Spine Toolbox</h2>
<ol>
<li>Open a conda prompt.</li>
<li>
<p>Activate the environment</p>
<p><code>conda activate flextool</code></p>
</li>
<li>
<p>Launch Spine Toolbox</p>
<p><code>python -m spinetoolbox</code></p>
</li>
<li>
<p>Open FlexTool3 project in Spine Toolbox (Choose the flextool <em>folder</em> from File &gt; Open project dialog)</p>
</li>
</ol>
<h2 id="updating-irena-flextool">Updating IRENA FlexTool</h2>
<h3 id="updates-for-version-314-or-later">Updates for version 3.1.4 or later:</h3>
<ul>
<li>Start anaconda/miniconda prompt</li>
<li><code>conda activate flextool</code> (or whatever is your conda environment name for IRENA FlexTool)</li>
</ul>
<p>If using Spine Toolbox, start by updating Spine Toolbox:</p>
<ul>
<li>cd to the repository folder Spine-Toolbox, where you cloned it. 
For example <code>cd C:\Users\YourUser\Documents\Spine-Toolbox</code></li>
<li><code>git pull</code></li>
<li><code>python -m pip install -U -r requirements.txt</code></li>
<li>cd back to FlexTool directory, where you cloned it. 
For example <code>cd C:\Users\YourUser\Documents\flextool</code></li>
</ul>
<p>Update IRENA FlexTool:</p>
<ul>
<li>cd to the FlexTool directory</li>
<li><code>python update_flextool.py</code></li>
<li>This will pull the new version of the tool as well as migrating the input databases to the new version without destroying the data. Making a backup copy of the input data is still a good practice.<ul>
<li>The updated databases are: <ul>
<li>The database chosen as the input data in the tool!!!</li>
<li>init.sqlite</li>
<li>input_data_template.sqlite</li>
<li>how to example databases</li>
</ul>
</li>
</ul>
</li>
<li>
<p>If the git complains about merge conflicts, it is probably due to you modifying the template files. Use <code>git restore .</code>  and <code>git pull</code>. This will restore ALL the files downloaded from the repository to their original states. Then repeat <code>python update_flextool.py</code></p>
</li>
<li>
<p>One can also migrate other input databases to the new version by calling:</p>
<ul>
<li><code>python migrate_database.py *absolute_path_to_database*</code> or</li>
<li><code>python migrate_database.py database_name.sqlite</code> if in the main flextool folder</li>
</ul>
</li>
</ul>
<h3 id="old-version-release-313-or-earlier">Old version (release 3.1.3 or earlier):</h3>
<p>Update of IRENA FlexTool to the latest version is done as follows:</p>
<ul>
<li>Start anaconda prompt</li>
<li><code>conda activate flextool</code> (or whatever is your conda environment name for IRENA FlexTool)</li>
<li>cd to the FlexTool directory</li>
<li><code>git restore .</code> (THIS WILL DELETE YOUR LOCAL CHANGES TO THE FILES IN THE WORKFLOW. This will be improved in the future. Currently you can work around this by making your own input files (Excel or SQLite) and pointing the workflow items (Excel_input_data or Input_Data) to your own files instead of the input_data.sqlite or FlexTool_import_template.xlsx.) </li>
<li><code>git pull</code>
Then do the update_flextool discribed above to migrate the databases:</li>
<li><code>python update_flextool.py</code></li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../interface_overview/" class="btn btn-neutral float-left" title="Overview of the interfaces to Flextool"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../install_web_interface/" class="btn btn-neutral float-right" title="Installing IRENA FlexTool - Web interface">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>IRENA</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/irena-flextool/flextool" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../interface_overview/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../install_web_interface/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML" defer></script>
      <script src="../assets/mathjaxhelper.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
